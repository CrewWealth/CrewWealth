{% extends "base.html" %}

{% block title %}Income Calculator - CrewWealth{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-6 mb-4">
        <div class="form-container">
            <h3 class="mb-4">Income Calculator</h3>
            <form method="POST" action="/income/calculate-income">
                <div class="mb-3">
                    <label for="monthly_salary" class="form-label">Monthly Salary (â‚¬)</label>
                    <input type="number" class="form-control" id="monthly_salary" name="monthly_salary" 
                           placeholder="e.g., 2500" step="0.01" required>
                </div>

                <div class="mb-3">
                    <label for="contract_months" class="form-label">Contract Duration (months)</label>
                    <input type="number" class="form-control" id="contract_months" name="contract_months" 
                           placeholder="e.g., 6" min="1" required>
                </div>

                <div class="mb-3">
                    <label for="position" class="form-label">Position</label>
                    <select class="form-select" id="position" name="position" required>
                        <option value="">-- Select Position --</option>
                        <option value="Officer">Officer</option>
                        <option value="Engineer">Engineer</option>
                        <option value="Crew">Crew</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="allowances" class="form-label">Monthly Allowances (â‚¬)</label>
                    <input type="number" class="form-control" id="allowances" name="allowances" 
                           placeholder="e.g., 500" step="0.01" value="0">
                </div>

                <div class="mb-3">
                    <label for="bonus" class="form-label">Contract Bonus (â‚¬)</label>
                    <input type="number" class="form-control" id="bonus" name="bonus" 
                           placeholder="e.g., 1000" step="0.01" value="0">
                </div>

                <div class="mb-3">
                    <label for="tax_rate" class="form-label">Tax Rate (%)</label>
                    <input type="number" class="form-control" id="tax_rate" name="tax_rate" 
                           placeholder="e.g., 19" step="0.01" value="19">
                </div>

                <button type="submit" class="btn btn-primary w-100">
                    ðŸ“Š Calculate Income
                </button>
            </form>
        </div>
    </div>

    {% if results %}
    <div class="col-lg-6">
        <div class="results-container">
            <h3 class="mb-4">Your Income Summary</h3>
            
            <div class="result-row">
                <span>Monthly Salary:</span>
                <strong>â‚¬ {{ "%.2f"|format(results.monthly_salary) }}</strong>
            </div>
            
            <div class="result-row">
                <span>Monthly Allowances:</span>
                <strong>â‚¬ {{ "%.2f"|format(results.monthly_allowances) }}</strong>
            </div>
            
            <div class="result-row">
                <span>Gross Monthly Income:</span>
                <strong>â‚¬ {{ "%.2f"|format(results.gross_monthly) }}</strong>
            </div>
            
            <div class="result-row">
                <span>Contract Duration:</span>
                <strong>{{ results.contract_months }} months</strong>
            </div>
            
            <div class="result-row">
                <span>Contract Bonus:</span>
                <strong>â‚¬ {{ "%.2f"|format(results.contract_bonus) }}</strong>
            </div>
            
            <div class="result-row highlight">
                <span>Gross Contract Income:</span>
                <strong>â‚¬ {{ "%.2f"|format(results.gross_contract_income) }}</strong>
            </div>
            
            <div class="result-row">
                <span>Estimated Taxes:</span>
                <strong>â‚¬ {{ "%.2f"|format(results.taxes) }}</strong>
            </div>
            
            <div class="result-row highlight">
                <span>Net Contract Income:</span>
                <strong>â‚¬ {{ "%.2f"|format(results.net_contract_income) }}</strong>
            </div>
            
            <div class="result-row">
                <span>Position:</span>
                <strong>{{ results.position }}</strong>
            </div>

            <a href="/income" class="btn btn-secondary w-100 mt-4">
                ðŸ”„ Calculate Again
            </a>
        </div>
    </div>
    {% else %}
    <div class="col-lg-6">
        <div class="results-container text-center">
            <p class="text-muted">Fill in the form and click "Calculate Income" to see your results.</p>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
